var GLOBAL_WEBPACK=GLOBAL_WEBPACK||{};GLOBAL_WEBPACK.join_game_entry=webpackJsonpGLOBAL_WEBPACK__name_([0],{11:function(e,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const i=a(0),t=a(2),s=a(1),o=a(4),{WAIT_JOIN_NAME_GAME_1:m,WAIT_JOIN_GAME_2:l,WAIT_JOIN_START_3:r,WAIT_JOIN_PLAYING_4:_}=s.EJoinStates,{TO_SERVER_joinGame:d,TO_SERVER_gameList:c}=s.EActions,{ONE_SECOND:u,WS_MESSAGE_DELIM:g}=i.default,y=o.default.the_game_board,f={refresh_func_id:0,selected_game:"",missedStart:e=>{f.visibleHtmlJoin(m)},areNamesEmpty:()=>{const e=t.sanitizeInputValue("game-name"),n=t.sanitizeInputValue("join-name");return 0===e.length||0===n.length||(f.selected_game=e,!1)},notEmptyNames:()=>{f.areNamesEmpty()?f.visibleHtmlJoin(m):f.visibleHtmlJoin(l)},visibleHtmlJoin:e=>{switch(t.displayNoneById(["join-game","waiting-for-start","join-color"]),t.hiddenById(["name-of-join","choose-game"]),e){case m:t.visibleById(["name-of-join","choose-game"]);break;case l:t.visibleById(["name-of-join","choose-game","join-game"]),t.displayInlineById(["join-game"]);break;case r:t.displayInlineById(["waiting-for-start"]);break;case _:t.displayInlineById(["join-color"])}},fixStartJoinHtml:()=>{f.visibleHtmlJoin(_)},fixEndJoinHtml:()=>{f.visibleHtmlJoin(m)},showJoinGames:e=>{let n,a="";for(const i of e){const[e,t]=i.split(g);a+=`<option value="${e}" ${n=e===f.selected_game?" selected ":""}>${e} - ${t}</option>`}t.propertyValueSet("game-name","innerHTML",a)},autoFillGame:()=>{if("function"==typeof t.getUrlParamByName){const e=t.sanitizeValue(t.getUrlParamByName("game_name")),n=t.sanitizeValue(t.getUrlParamByName("join_name"));e&&n&&("function"==typeof f.showJoinGames&&f.showJoinGames(new Array(e)),t.inputValueSet("game-name",e),t.inputValueSet("join-name",n),f.sendJoinGame())}},sendJoinGame:()=>{try{const e=t.sanitizeInputValue("join-name"),n=t.sanitizeInputValue("game-name");if("function"==typeof y.sendMessage){const a={game_name:n,message_type:d,user_name:e,uuid_key:o.default.ws_random_key};y.sendMessage(a),f.visibleHtmlJoin(r)}}catch(e){console.error("err",e)}},sendRefreshedGames:()=>{try{if("function"==typeof y.sendMessage){const e={message_type:c,uuid_key:o.default.ws_random_key};y.sendMessage(e)}}catch(e){console.error("err",e)}}};n.join_game=f,f.visibleHtmlJoin(m),f.refresh_func_id=window.setInterval(f.sendRefreshedGames,u),t.eventListenerAdd("join-name","input",f.notEmptyNames),t.eventListenerAdd("game-name","change",f.notEmptyNames),t.eventListenerAdd("game-name","click",f.notEmptyNames),t.eventListenerAdd("join-game","click",f.sendJoinGame),o.default.the_websocket.onopen=(()=>{f.autoFillGame()})}},[11]);