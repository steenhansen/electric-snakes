var GLOBAL_WEBPACK=GLOBAL_WEBPACK||{};GLOBAL_WEBPACK.join_game_entry=webpackJsonpGLOBAL_WEBPACK__name_([0],[function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={AVERAGE_SNAKE_SPEED:40,CTX_WALL_COLOR:"black",DEFAULT_PORT:3e3,EMPTY_INDEX_COLOR:0,FAST_SNAKE_SPEED:20,HUMAN_PLAYER_NUMBER:1,INIT_REDUX_ACTION:"@@redux/INIT",LARGE_SNAKE_SIZE:30,LEFT_HAND_UDLR_KEYS:[87,83,65,68],MAX_PLAYERS:8,MEDIUM_SNAKE_SIZE:20,MOVE_SEND_INTERVAL:20,NON_EXISTANT_XY:-1,ONE_SECOND:1001,PLAYER_0_SENTINEL:"_no_player_0_",RIGHT_HAND_UDLR_KEYS:[38,40,37,39],SECONDS_COUNT_DOWN:3,SLOW_SNAKE_SPEED:60,TEST_PLAYER_POSTFIX:"_",TILE_PIXEL_SIZE:10,TIME_OUT_SECONDS:3600,TINY_SNAKE_SIZE:5,WALL_INDEX_COLOR:9,WS_MESSAGE_DELIM:","}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e.WALL_HORIZONTAL="wall_horizontal",e.WALL_VERTICAL="wall_vertical",e.WALL_DIAGONAL="wall_diagonal"}(t.EWallTypes||(t.EWallTypes={}));!function(e){e[e.GAME_JOINING_1=0]="GAME_JOINING_1",e[e.GAME_PLAYING_2=1]="GAME_PLAYING_2"}(t.EGameStates||(t.EGameStates={}));!function(e){e[e.PLAYER_PERSON=0]="PLAYER_PERSON",e[e.PLAYER_MACHINE=1]="PLAYER_MACHINE"}(t.EPlayerStates||(t.EPlayerStates={}));!function(e){e[e.WAIT_JOIN_NAME_GAME_1=0]="WAIT_JOIN_NAME_GAME_1",e[e.WAIT_JOIN_GAME_2=1]="WAIT_JOIN_GAME_2",e[e.WAIT_JOIN_START_3=2]="WAIT_JOIN_START_3",e[e.WAIT_JOIN_PLAYING_4=3]="WAIT_JOIN_PLAYING_4"}(t.EJoinStates||(t.EJoinStates={}));!function(e){e[e.WAIT_COMPUTER_OPPONENTS_A=0]="WAIT_COMPUTER_OPPONENTS_A",e[e.WAIT_COMPUTER_START_B=1]="WAIT_COMPUTER_START_B",e[e.WAIT_COMPUTER_START_C=2]="WAIT_COMPUTER_START_C",e[e.WAIT_FOR_CHOICE=3]="WAIT_FOR_CHOICE",e[e.WAIT_HUMAN_NAMING_1=4]="WAIT_HUMAN_NAMING_1",e[e.WAIT_HUMAN_CREATION_2=5]="WAIT_HUMAN_CREATION_2",e[e.WAIT_HUMAN_START_3=6]="WAIT_HUMAN_START_3",e[e.WAIT_HUMAN_END_4=7]="WAIT_HUMAN_END_4"}(t.ECreateStates||(t.ECreateStates={}));!function(e){e.DOWN_MOVE="down",e.UP_MOVE="up",e.LEFT_MOVE="left",e.RIGHT_MOVE="right",e.CONTINUE_MOVE="continue"}(t.EMoveTypes||(t.EMoveTypes={}));!function(e){e.TO_SERVER_createGame="TO_SERVER_createGame",e.TO_SERVER_startPeople="TO_SERVER_startPeople",e.TO_SERVER_startMachine="TO_SERVER_startMachine",e.TO_SERVER_joinGame="TO_SERVER_joinGame",e.TO_SERVER_moveSnake="TO_SERVER_moveSnake",e.TO_SERVER_moveMachine="TO_SERVER_moveMachine",e.TO_SERVER_disconnectBrowser="TO_SERVER_disconnectBrowser",e.TO_SERVER_gameList="TO_SERVER_gameList",e.TO_BROWSER_missedStart="TO_BROWSER_missedStart",e.TO_BROWSER_gameList="TO_BROWSER_gameList",e.TO_BROWSER_timeout="TO_BROWSER_timeout",e.TO_BROWSER_startPeople="TO_BROWSER_startPeople",e.TO_BROWSER_startMachine="TO_BROWSER_startMachine",e.TO_BROWSER_2_to_tango="TO_BROWSER_2_to_tango",e.TO_BROWSER_9_players="TO_BROWSER_9_players",e.TO_BROWSER_advanceBoard="TO_BROWSER_advanceBoard",e.TO_BROWSER_crashTurn="TO_BROWSER_crashTurn",e.TO_BROWSER_announceWinner="TO_BROWSER_announceWinner",e.TO_BROWSER_announceTie="TO_BROWSER_announceTie",e.TO_BROWSER_announceNames="TO_BROWSER_announceNames",e.TO_BROWSER_your_color="TO_BROWSER_your_color",e.TO_BROWSER_all_moves="TO_BROWSER_all_moves"}(t.EActions||(t.EActions={}))},function(e,t,n){"use strict";(function(e){function o(t){if(e.argv[t]){return e.argv[t].split("=")}return["",""]}function r(e){if(void 0===e)return"";return e.replace(/[^a-z0-9 '_]/gi,"").trim()}var a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,a=void 0;try{for(var _,i=e[Symbol.iterator]();!(o=(_=i.next()).done)&&(n.push(_.value),!t||n.length!==t);o=!0);}catch(e){r=!0,a=e}finally{try{!o&&i.return&&i.return()}finally{if(r)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();Object.defineProperty(t,"__esModule",{value:!0});var _=n(3),i=n(0),l=n(1),s=i.default,u=s.TINY_SNAKE_SIZE,c=s.MEDIUM_SNAKE_SIZE,d=s.LARGE_SNAKE_SIZE,E=s.SLOW_SNAKE_SPEED,f=s.AVERAGE_SNAKE_SPEED,m=s.FAST_SNAKE_SPEED,T=l.EMoveTypes,O=T.DOWN_MOVE,S=T.UP_MOVE,y=T.LEFT_MOVE,v=T.RIGHT_MOVE,w=T.CONTINUE_MOVE;t.sendSocket=function(e,t,n){var o={data:n,message_type:t},r=JSON.stringify(o);try{e.send(r)}catch(t){console.error("sendSocket error",t.message,o,e)}},t.dateInSeconds=function(){var e=Number(new Date);return Math.floor(e/1e3)},t.mouseListenerAdd=function(e,t,n){document.getElementById(e).addEventListener(t,n,!1)},t.eventListenerAdd=function(e,t,n){document.getElementById(e).addEventListener(t,n,!1)},t.blockById=function(e){var t=!0,n=!1,o=void 0;try{for(var r,a=e[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){var _=r.value;document.getElementById(_).style.display="inline-block"}}catch(e){n=!0,o=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw o}}},t.noneById=function(e){var t=!0,n=!1,o=void 0;try{for(var r,a=e[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){var _=r.value;document.getElementById(_).style.display="none"}}catch(e){n=!0,o=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw o}}},t.focusById=function(e){document.getElementById(e).focus()},t.getUrlParamByName=function(e){var t=RegExp("[?&]"+e+"=([^&]*)").exec(window.location.search);if(t){var n=decodeURIComponent(t[1].replace(/\+/g," "));if(""!==n)return n}return""},t.never_needTwoToTango=function(e){console.error("IMPOSSIBLE TESTING ONLY, we need two people to have a human game",e)},t.never_nineMakesACrowd=function(e){console.error("IMPOSSIBLE TESTING ONLY, we somehow have a nine-player game",e)},t.colorTextSpan=function(e,t){return" <span style='color: "+e+"'>"+t+"</span> "},t.upDownLeftRight=function(e,t,n){var o=w;return e===t[0]||e===n[0]?o=S:e===t[1]||e===n[1]?o=O:e===t[2]||e===n[2]?o=y:e!==t[3]&&e!==n[3]||(o=v),o},t.inputValueSet=function(e,t){document.getElementById(e).value=t},t.propertyValueSet=function(e,t,n){document.getElementById(e)[t]=n},t.selectedValueGet=function(e){var t=document.getElementById(e);return-1===t.selectedIndex?"":t.options[t.selectedIndex].value},t.styleValueSet=function(e,t,n){document.getElementById(e).style[t]=n},t.getArgByIndex=o,t.setUpTesting=function(){var e=o(2),t=a(e,2),n=t[0],r=t[1];if("testing"===n&&"true"===r)return _.default},t.decodeSnakeSize=function(e){var t=d;return"tiny"===e?t=u:"medium"===e&&(t=c),t},t.decodeSnakeSpeed=function(e){var t=m;return"slow"===e?t=E:"average"===e&&(t=f),t},t.decodeSnakeWalls=function(e){var t=!1;return"random"===e&&(t=!0),t},t.sanitizeValue=r,t.sanitizeInputValue=function(e){return r(document.getElementById(e).value)}}).call(t,n(5))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={TESTING_BOARD_COLOR:0,TESTING_BOARD_INDEX:0,TESTING_SECONDS_COUNT_DOWN:1,TESTING_TIME_OUT_SECONDS:300}},,function(e,t,n){"use strict";function o(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function a(e){if(u===setTimeout)return setTimeout(e,0);if((u===o||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function _(){m&&E&&(m=!1,E.length?f=E.concat(f):T=-1,f.length&&i())}function i(){if(!m){var e=a(_);m=!0;for(var t=f.length;t;){for(E=f,f=[];++T<t;)E&&E[T].run();T=-1,t=f.length}E=null,m=!1,function(e){if(c===clearTimeout)return clearTimeout(e);if((c===r||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(e);try{c(e)}catch(t){try{return c.call(null,e)}catch(t){return c.call(this,e)}}}(e)}}function l(e,t){this.fun=e,this.array=t}function s(){}var u,c,d=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:o}catch(e){u=o}try{c="function"==typeof clearTimeout?clearTimeout:r}catch(e){c=r}}();var E,f=[],m=!1,T=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new l(e,t)),1!==f.length||m||a(i)},l.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=s,d.addListener=s,d.once=s,d.off=s,d.removeListener=s,d.removeAllListeners=s,d.emit=s,d.prependListener=s,d.prependOnceListener=s,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),a=n(3),_=n(0),i=n(2),l=n(1),s=n(8),u=n(9),c=_.default,d=c.SECONDS_COUNT_DOWN,E=c.ONE_SECOND,f=c.LEFT_HAND_UDLR_KEYS,m=c.RIGHT_HAND_UDLR_KEYS,T=l.EMoveTypes.CONTINUE_MOVE,O=l.EActions,S=O.TO_BROWSER_startPeople,y=O.TO_BROWSER_all_moves,v=O.TO_SERVER_moveSnake,w=O.TO_BROWSER_announceWinner,A=O.TO_BROWSER_announceTie,R=O.TO_BROWSER_your_color,g=O.TO_BROWSER_crashTurn,I=O.TO_BROWSER_announceNames,p=O.TO_BROWSER_9_players,N=O.TO_BROWSER_gameList,h=O.TO_BROWSER_2_to_tango,b=O.TO_BROWSER_timeout,L=O.TO_BROWSER_missedStart,B=O.TO_BROWSER_startMachine,W={live_colors:[],draw_board:{},show_players_data:[],count_down_vertical:0,showPlayers:function(e){if(!s.default.game_started){"object"===o(window.GLOBAL_WEBPACK.create_game_entry)&&window.GLOBAL_WEBPACK.create_game_entry.create_game.enableStartButton();for(var t="",n=void 0,r=1;r<e.length;r++){if(void 0===W.live_colors[0])n=e[r];else{var a=W.live_colors[r],_=e[r];n=i.colorTextSpan(a,_)}t=t+"<div> Player # "+r+" - "+n+"</div>"}i.propertyValueSet("game-names","innerHTML",t)}},initializeGame:function(e){var t=r.BoardColors.colorSet(e.color_index),n=s.default.tile_size;u.DrawBoard.initializeDraw(n,t),W.draw_board=u.DrawBoard,W.live_colors=t,W.showPlayers(W.show_players_data),W.fixStartHtml(),s.default.game_started=!1,s.default.game_over=!1,s.default.browser_turn=0,e.config_testing_vars?s.default.seconds_count_down=a.default.TESTING_SECONDS_COUNT_DOWN:s.default.seconds_count_down=d,s.default.count_down=s.default.seconds_count_down,Array.isArray(e.test_moves)&&(s.default.test_moves=e.test_moves),W.enableKeys(),s.default.next_key_move=T,W.draw_board.drawCanvas(e),i.styleValueSet("board-container","display",""),i.propertyValueSet("game-results","innerHTML",""),W.count_down_vertical=e.board_height*n/2,W.countDownStart()},enableKeys:function(){document.addEventListener("keydown",function(e){var t=e.keyCode,n=i.upDownLeftRight(t,f,m);s.default.next_key_move=n})},countDownStart:function(){var e=W.live_colors[s.default.your_player_number],t=s.default.tile_size/2+"px solid "+e;i.styleValueSet("board-container","border",t),s.default.count_down_func_id=window.setInterval(W.showCountDown,E);var n=E*(s.default.seconds_count_down+1);setTimeout(W.startGame,n)},showCountDown:function(){var e=document.getElementById("count-downer");e.style.top=String(W.count_down_vertical),s.default.count_down===s.default.seconds_count_down&&(e.classList.add("my-count"),W.playerColorElement("count-downer")),s.default.count_down<1?(e.innerHTML="",e.classList.remove("my-count"),window.clearTimeout(s.default.count_down_func_id)):e.innerHTML=s.default.count_down.toString(),s.default.count_down=s.default.count_down-1},startGame:function(){s.default.game_started=!0,s.default.sample_keys_func_id=window.setInterval(W.sendMoveToServer,s.default.send_move_interval)},showAllMoves:function(e){s.default.browser_turn=s.default.browser_turn+1,"function"==typeof s.default.the_game_board.draw_board.drawMoves&&s.default.the_game_board.draw_board.drawMoves(e)},showWinner:function(e){W.readyForGame();var t=e[0],n=Number(t),o=e[1],r=void 0;if(n===s.default.your_player_number){var a=W.live_colors[s.default.your_player_number];r=i.colorTextSpan(a,"You are the Winner!")}else{var _=W.live_colors[n],l=i.colorTextSpan(_,t);r="You lose. "+i.colorTextSpan(_,o)+"player # "+l+"is the winner."}i.propertyValueSet("game-results","innerHTML",r),W.fixEndHtml()},fixStartHtml:function(){"object"===o(window.GLOBAL_WEBPACK.create_game_entry)?(window.GLOBAL_WEBPACK.create_game_entry.create_game.fixStartCreateHtml(),W.playerColorElement("create-color")):"object"===o(window.GLOBAL_WEBPACK.join_game_entry)&&(window.GLOBAL_WEBPACK.join_game_entry.join_game.fixStartJoinHtml(),W.playerColorElement("join-color"))},fixEndHtml:function(){"object"===o(window.GLOBAL_WEBPACK.create_game_entry)?window.GLOBAL_WEBPACK.create_game_entry.create_game.fixEndCreateHtml():"object"===o(window.GLOBAL_WEBPACK.join_game_entry)&&window.GLOBAL_WEBPACK.join_game_entry.join_game.fixEndJoinHtml()},readyForGame:function(){window.clearInterval(s.default.sample_keys_func_id),s.default.game_over=!0,s.default.game_started=!1,s.default.browser_turn=0},showTie:function(){W.readyForGame(),i.propertyValueSet("game-results","innerHTML","we have a tie !"),W.fixEndHtml()},playerColorElement:function(e){var t=W.live_colors[s.default.your_player_number];i.styleValueSet(e,"color",t)},setPlayerNumber:function(e){s.default.your_player_number=e},moveToServer:function(e){if(!s.default.game_over)try{var t={browser_turn:s.default.browser_turn,message_type:v,move_direction:e,uuid_key:s.default.ws_random_key};W.sendMessage(t)}catch(e){console.error("err",e)}},sendMoveToServer:function(){var e=s.default.next_key_move;if(s.default.test_moves.length>0){s.default.test_moves.length===s.default.browser_turn&&(s.default.test_moves=s.default.test_moves.concat(s.default.test_moves));var t=s.default.test_moves[s.default.browser_turn];s.default.next_key_move===T?e=t:(e=s.default.next_key_move,s.default.next_key_move=T)}W.moveToServer(e)},sendMessage:function(e){var t=JSON.stringify(e);"function"==typeof s.default.the_websocket.send&&s.default.the_websocket.send(t)}};s.default.the_websocket.onclose=function(){s.default.the_websocket.send=null},s.default.the_websocket.onmessage=function(e){var t=JSON.parse(e.data),n=t.message_type,r=t.data;n===B?(W.show_players_data=[],W.showPlayers([]),W.initializeGame(r)):n===S?W.initializeGame(r):n===y?W.showAllMoves(r):n===w?W.showWinner(r):n===A?W.showTie():n===R?W.setPlayerNumber(r):n===g?W.draw_board.drawCrashes(r):n===I?(W.show_players_data=r,W.showPlayers(r)):n===h?i.never_needTwoToTango(r):n===p?i.never_nineMakesACrowd(r):n===b?i.styleValueSet("timed-out","display","block"):n===N?"object"===o(window.GLOBAL_WEBPACK.join_game_entry)&&window.GLOBAL_WEBPACK.join_game_entry.join_game.showJoinGames(r):n===L?"object"===o(window.GLOBAL_WEBPACK.join_game_entry)&&window.GLOBAL_WEBPACK.join_game_entry.join_game.missedStart(r):console.error("ERROR game-objects :  unknown message = ",n)},s.default.the_game_board=W,t.default=s.default},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=[["rgb(255, 255, 255)","rgb(255, 0, 0)","rgb(0, 255,0)","rgb(0, 0, 255)","rgb(0, 255, 255)","rgb(255, 0, 255)","rgb(255, 255, 0)","rgb(128, 128, 128)","rgb(128, 128, 0)","rgb(0, 0, 0)"],["rgb(0, 0, 0)","rgb(0,0,128)","rgb(0,128,128)","rgb(128,0,128)","rgb(0,128,0)","rgb(128,128,0)","rgb(128,0,0)","rgb(128,128,128)","rgb(192,192,192)","rgb(255, 255, 255)"]],o={randomColors:function(){if(void 0===e.CONFIG_TESTING_VARS){return Math.floor(Math.random()*n.length)}return e.CONFIG_TESTING_VARS.TESTING_BOARD_COLOR},colorSet:function(e){return n[e]}};t.BoardColors=o}).call(t,n(4))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(1),a=o.default,_=a.SECONDS_COUNT_DOWN,i=a.MOVE_SEND_INTERVAL,l=a.TILE_PIXEL_SIZE,s=r.EMoveTypes.CONTINUE_MOVE,u=window.SNAKE_WS_RANDOM_KEY,c={browser_turn:0,count_down:_,count_down_func_id:0,game_over:!1,game_started:!1,host_name:location.origin.replace(/^http/,"ws")+"/?"+u,machine_game_count:1,next_key_move:s,sample_keys_func_id:0,seconds_count_down:0,send_move_interval:i,test_moves:[],the_game_board:{},the_websocket:{},tile_size:l,ws_random_key:u,your_player_number:0};c.the_websocket=new WebSocket(c.host_name),t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0).default,r=o.WS_MESSAGE_DELIM,a=o.CTX_WALL_COLOR,_=document.getElementById("board-container"),i=_.getContext("2d"),l={tile_size:123,live_colors:[],initializeDraw:function(e,t){l.tile_size=e,l.live_colors=t},drawCanvas:function(e){_.width=e.board_width*l.tile_size,_.height=e.board_height*l.tile_size,"function"==typeof l.drawGrid&&l.drawGrid(e.board_json)},drawSquares:function(e,t,n,o){var r=l.tile_size/2,a=1;do{i.beginPath(),i.moveTo(e+a,t+a),i.lineTo(n-a,t+a),i.lineTo(n-a,o-a),i.lineTo(e+a,o-a),i.lineTo(e+a,t+a),i.stroke(),a+=2}while(a<r)},drawCrashes:function(e){l.drawMoves(e),i.strokeStyle=a;for(var t=e.length-1;t>=0;t--){var n=e[t].split(r),o=parseInt(n[0],10),_=parseInt(n[1],10),s=o*l.tile_size+1,u=_*l.tile_size+1,c=(o+1)*l.tile_size-1,d=(_+1)*l.tile_size-1;l.drawSquares(s,u,c,d)}},drawGrid:function(e){for(var t=e.length-1;t>=0;t--)for(var n=e[t].length-1;n>=0;n--){var o=e[t][n];l.drawTile(n,t,o)}},drawTile:function(e,t,n){i.fillStyle=l.live_colors[n];var o=e*l.tile_size,r=t*l.tile_size;i.fillRect(o,r,l.tile_size,l.tile_size)},drawMoves:function(e){for(var t=e.length-1;t>=0;t--){var n=e[t].split(r),o=parseInt(n[0],10),a=parseInt(n[1],10),_=parseInt(n[2],10);l.drawTile(o,a,_)}}};t.DrawBoard=l},,,function(e,t,n){"use strict";var o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,a=void 0;try{for(var _,i=e[Symbol.iterator]();!(o=(_=i.next()).done)&&(n.push(_.value),!t||n.length!==t);o=!0);}catch(e){r=!0,a=e}finally{try{!o&&i.return&&i.return()}finally{if(r)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(2),_=n(1),i=n(6),l=_.EJoinStates,s=l.WAIT_JOIN_NAME_GAME_1,u=l.WAIT_JOIN_GAME_2,c=l.WAIT_JOIN_START_3,d=l.WAIT_JOIN_PLAYING_4,E=_.EActions,f=E.TO_SERVER_joinGame,m=E.TO_SERVER_gameList,T=r.default,O=T.ONE_SECOND,S=T.WS_MESSAGE_DELIM,y=i.default.the_game_board,v={refresh_func_id:0,selected_game:"",have_joined:!1,missedStart:function(e){v.visibleHtmlJoin(s)},areNamesEmpty:function(){var e=a.sanitizeInputValue("game-name"),t=a.sanitizeInputValue("join-name");return 0===e.length||0===t.length||(v.selected_game=e,!1)},notEmptyNames:function(){v.areNamesEmpty()?v.visibleHtmlJoin(s):v.visibleHtmlJoin(u)},visibleHtmlJoin:function(e){switch(e){case s:v.have_joined=!1,a.noneById(["join-game","waiting-for-start","join-color"]),a.blockById(["name-of-join","choose-game"]);break;case u:a.blockById(["join-game"]);break;case c:v.have_joined=!0,a.noneById(["name-of-join","choose-game","join-game"]),a.blockById(["waiting-for-start"]);break;case d:a.noneById(["waiting-for-start","join-game"]),a.blockById(["join-color"])}},fixStartJoinHtml:function(){v.visibleHtmlJoin(d)},fixEndJoinHtml:function(){v.visibleHtmlJoin(s)},showJoinGames:function(e){if(!v.have_joined){var t="",n=!0,r=!1,_=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done);n=!0){var s=i.value.split(S),c=o(s,2),d=c[0],E=c[1];t+='<option value="'+d+'" '+(d===v.selected_game?" selected ":"")+">"+d+" - "+E+"</option>"}}catch(e){r=!0,_=e}finally{try{!n&&l.return&&l.return()}finally{if(r)throw _}}a.propertyValueSet("game-name","innerHTML",t);""!==a.selectedValueGet("game-name")&&v.visibleHtmlJoin(u)}},autoFillGame:function(){if("function"==typeof a.getUrlParamByName){var e=a.sanitizeValue(a.getUrlParamByName("game_name")),t=a.sanitizeValue(a.getUrlParamByName("join_name"));e&&t&&("function"==typeof v.showJoinGames&&v.showJoinGames(new Array(e)),a.inputValueSet("game-name",e),a.inputValueSet("join-name",t),v.sendJoinGame())}},sendJoinGame:function(){try{var e=a.sanitizeInputValue("join-name"),t=a.sanitizeInputValue("game-name");if("function"==typeof y.sendMessage){var n={game_name:t,message_type:f,user_name:e,uuid_key:i.default.ws_random_key};y.sendMessage(n),v.visibleHtmlJoin(c)}}catch(e){console.error("err",e)}},sendRefreshedGames:function(){try{if("function"==typeof y.sendMessage){var e={message_type:m,uuid_key:i.default.ws_random_key};y.sendMessage(e)}}catch(e){console.error("err",e)}}};t.join_game=v,v.visibleHtmlJoin(s),v.refresh_func_id=window.setInterval(v.sendRefreshedGames,O),a.eventListenerAdd("join-name","input",v.notEmptyNames),a.eventListenerAdd("game-name","change",v.notEmptyNames),a.eventListenerAdd("game-name","click",v.notEmptyNames),a.eventListenerAdd("join-game","click",v.sendJoinGame),i.default.the_websocket.onopen=function(){v.autoFillGame()}}],[12]);