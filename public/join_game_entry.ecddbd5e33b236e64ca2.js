var GLOBAL_WEBPACK=GLOBAL_WEBPACK||{};GLOBAL_WEBPACK.join_game_entry=webpackJsonpGLOBAL_WEBPACK__name_([0],{11:function(e,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const t=a(0),i=a(2),o=a(1),s=a(4),{WAIT_JOIN_NAME_GAME_1:m,WAIT_JOIN_GAME_2:l,WAIT_JOIN_START_3:d,WAIT_JOIN_PLAYING_4:r}=o.EJoinStates,{TO_SERVER_joinGame:_,TO_SERVER_gameList:c}=o.EActions,{ONE_SECOND:g,WS_MESSAGE_DELIM:y}=t.default,u=s.default.the_game_board,f={refresh_func_id:0,selected_game:"",missedStart:e=>{f.visibleHtmlJoin(m)},areNamesEmpty:()=>{const e=document.getElementById("join-name").value.trim(),n=document.getElementById("game-name").value.trim();return 0===n.length||0===e.length||(f.selected_game=n,!1)},notEmptyNames:()=>{f.areNamesEmpty()?f.visibleHtmlJoin(m):f.visibleHtmlJoin(l)},visibleHtmlJoin:e=>{switch(i.displayNoneById(["join-game","waiting-for-start","join-color"]),i.hiddenById(["name-of-join","choose-game"]),e){case m:i.visibleById(["name-of-join","choose-game"]);break;case l:i.visibleById(["name-of-join","choose-game","join-game"]),i.displayInlineById(["join-game"]);break;case d:i.displayInlineById(["waiting-for-start"]);break;case r:i.displayInlineById(["join-color"])}},fixStartJoinHtml:()=>{f.visibleHtmlJoin(r)},fixEndJoinHtml:()=>{f.visibleHtmlJoin(m)},showJoinGames:e=>{let n,a="";for(const t of e){const[e,i]=t.split(y);a+=`<option value="${e}" ${n=e===f.selected_game?" selected ":""}>${e} - ${i}</option>`}i.propertyValueSet("game-name","innerHTML",a)},autoFillGame:()=>{if("function"==typeof i.getUrlParamByName){const e=i.getUrlParamByName("game_name"),n=i.getUrlParamByName("join_name");e&&n&&("function"==typeof f.showJoinGames&&f.showJoinGames(new Array(e)),i.inputValueSet("game-name",e),i.inputValueSet("join-name",n),f.sendJoinGame())}},sendJoinGame:()=>{try{const e=document.getElementById("join-name").value,n=document.getElementById("game-name").value;if("function"==typeof u.sendMessage){const a={game_name:n,message_type:_,user_name:e,uuid_key:s.default.ws_random_key};u.sendMessage(a),f.visibleHtmlJoin(d)}}catch(e){console.error("err",e)}},sendRefreshedGames:()=>{try{if("function"==typeof u.sendMessage){const e={message_type:c,uuid_key:s.default.ws_random_key};u.sendMessage(e)}}catch(e){console.error("err",e)}}};n.join_game=f,f.visibleHtmlJoin(m),f.refresh_func_id=window.setInterval(f.sendRefreshedGames,g),i.eventListenerAdd("join-name","input",f.notEmptyNames),i.eventListenerAdd("game-name","change",f.notEmptyNames),i.eventListenerAdd("game-name","click",f.notEmptyNames),i.eventListenerAdd("join-game","click",f.sendJoinGame),s.default.the_websocket.onopen=(()=>{f.autoFillGame()})}},[11]);