var GLOBAL_WEBPACK=GLOBAL_WEBPACK||{};GLOBAL_WEBPACK.create_game_entry=webpackJsonpGLOBAL_WEBPACK__name_([1],{5:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(2),s=a(1),m=a(4),{WAIT_COMPUTER_OPPONENTS_A:r,WAIT_COMPUTER_START_B:o,WAIT_COMPUTER_START_C:i,WAIT_FOR_CHOICE:u,WAIT_HUMAN_NAMING_1:c,WAIT_HUMAN_CREATION_2:l,WAIT_HUMAN_START_3:d,WAIT_HUMAN_END_4:p}=s.ECreateStates,{TO_SERVER_createGame:_,TO_SERVER_startPeople:y,TO_SERVER_startMachine:k}=s.EActions,A=m.default.the_game_board,g={opponentsValid:()=>{return n.sanitizeInputValue("num-opponents").length>0},numOpponents:()=>{g.opponentsValid()?g.visibleHtmlJoin(o):g.visibleHtmlJoin(r)},focusOnAName:()=>{const e=document.activeElement;if(null!==e){const t=e.id;"game-name"!==t&&"create-name"!==t&&n.focusById("game-name")}},visibleHtmlJoin:e=>{switch(n.displayNoneById(["computer-opponents","name-of-game","name-of-creator","create-game","start-human","create-color"]),n.hiddenById(["vs-computer","vs-humans"]),e){case r:case o:n.displayInlineById(["computer-opponents"]);break;case i:break;case u:n.visibleById(["vs-computer","vs-humans"]);break;case c:n.displayBlockById(["name-of-game","name-of-creator"]),g.focusOnAName();break;case l:n.displayBlockById(["name-of-game","name-of-creator","create-game"]);break;case d:n.displayInlineById(["start-human"]);break;case p:n.displayInlineById(["create-color"])}},fixStartCreateHtml:()=>{g.visibleHtmlJoin(p)},fixEndCreateHtml:()=>{g.visibleHtmlJoin(u)},enableStartButton:()=>{g.visibleHtmlJoin(d);const e=n.sanitizeInputValue("game-name");n.propertyValueSet("start-human","innerHTML","Start "+e),n.propertyValueSet("start-human","disabled",!1)},showHumanGame:()=>{g.notEmptyNames()},autoFillCreate:()=>{if("function"==typeof n.getUrlParamByName){const e=n.sanitizeValue(n.getUrlParamByName("game_name")),t=n.sanitizeValue(n.getUrlParamByName("create_name"));e&&t&&("function"==typeof g.showHumanGame&&g.showHumanGame(),n.inputValueSet("game-name",e),n.inputValueSet("create-name",t),g.sendCreateGame())}},areNamesEmpty:()=>{const e=n.sanitizeInputValue("create-name"),t=n.sanitizeInputValue("game-name");return 0===e.length||0===t.length},notEmptyNames:()=>{g.areNamesEmpty()?g.visibleHtmlJoin(c):g.visibleHtmlJoin(l)},showMachineGame:()=>{g.visibleHtmlJoin(r)},sendCreateGame:()=>{g.visibleHtmlJoin(d);try{const e=n.sanitizeInputValue("game-name"),t=n.sanitizeInputValue("create-name");if("function"==typeof A.sendMessage){const a={message_type:_,uuid_key:m.default.ws_random_key,game_name:e,user_name:t};A.sendMessage(a)}n.propertyValueSet("start-human","innerHTML","Waiting for other player(s) to join "+e),n.propertyValueSet("start-human","disabled",!0)}catch(e){console.error("err",e)}},sendStartGame:()=>{try{const e=n.sanitizeInputValue("game-name"),t=n.sanitizeInputValue("create-name"),a=document.querySelector("input[name=snake-size]:checked").value,s=document.querySelector("input[name=snake-speed]:checked").value,r=document.querySelector("input[name=snake-walls]:checked").value;if("function"==typeof A.sendMessage){const n={message_type:y,uuid_key:m.default.ws_random_key,game_name:e,create_name:t,snake_size:a,snake_walls:r,milli_turns:s};A.sendMessage(n)}}catch(e){console.error("err",e)}},sendVersusComputer:e=>{const t=e.target.id.split("-")[1];g.visibleHtmlJoin(i);try{const e=m.default.ws_random_key+"_"+m.default.machine_game_count,a=m.default.ws_random_key+"-"+m.default.machine_game_count,n=document.querySelector("input[name=snake-size]:checked").value,s=document.querySelector("input[name=snake-speed]:checked").value,r=document.querySelector("input[name=snake-walls]:checked").value;if("function"==typeof A.sendMessage){const o={message_type:k,uuid_key:m.default.ws_random_key,game_name:e,user_name:a,num_computer:t,snake_size:n,snake_walls:r,milli_turns:s};A.sendMessage(o)}}catch(e){console.error("err",e)}}};t.create_game=g,g.visibleHtmlJoin(u),n.eventListenerAdd("create-game","click",g.sendCreateGame),n.eventListenerAdd("start-human","click",g.sendStartGame),n.eventListenerAdd("vs-computer","click",g.showMachineGame),n.eventListenerAdd("vs-humans","click",g.showHumanGame),n.mouseListenerAdd("computer-1","click",g.sendVersusComputer),n.mouseListenerAdd("computer-2","click",g.sendVersusComputer),n.mouseListenerAdd("computer-3","click",g.sendVersusComputer),n.mouseListenerAdd("computer-4","click",g.sendVersusComputer),n.mouseListenerAdd("computer-5","click",g.sendVersusComputer),n.mouseListenerAdd("computer-6","click",g.sendVersusComputer),n.mouseListenerAdd("computer-7","click",g.sendVersusComputer),n.eventListenerAdd("computer-opponents","input",g.numOpponents),n.eventListenerAdd("create-name","input",g.notEmptyNames),n.eventListenerAdd("game-name","input",g.notEmptyNames),m.default.the_websocket.onopen=(()=>{g.autoFillCreate()})}},[5]);