!function(e){function t(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n=window.webpackJsonpGLOBAL_WEBPACK__name_;window.webpackJsonpGLOBAL_WEBPACK__name_=function(o,_,a){for(var i,s,l,u=0,c=[];u<o.length;u++)s=o[u],r[s]&&c.push(r[s][0]),r[s]=0;for(i in _)Object.prototype.hasOwnProperty.call(_,i)&&(e[i]=_[i]);for(n&&n(o,_,a);c.length;)c.shift()();if(a)for(u=0;u<a.length;u++)l=t(t.s=a[u]);return l};var o={},r={2:0};t.e=function(e){function n(){i.onerror=i.onload=null,clearTimeout(s);var t=r[e];0!==t&&(t&&t[1](new Error("Loading chunk "+e+" failed.")),r[e]=void 0)}var o=r[e];if(0===o)return new Promise(function(e){e()});if(o)return o[2];var _=new Promise(function(t,n){o=r[e]=[t,n]});o[2]=_;var a=document.getElementsByTagName("head")[0],i=document.createElement("script");i.type="text/javascript",i.charset="utf-8",i.async=!0,i.timeout=12e4,t.nc&&i.setAttribute("nonce",t.nc),i.src=t.p+""+{0:"e128395d96ece320f1c6",1:"8128ab43c05aad8d4bc2"}[e]+".js";var s=setTimeout(n,12e4);return i.onerror=i.onload=n,a.appendChild(i),_},t.m=e,t.c=o,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t.oe=function(e){throw console.error(e),e}}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={AVERAGE_SNAKE_SPEED:40,CTX_WALL_COLOR:"black",DEFAULT_PORT:3e3,EMPTY_INDEX_COLOR:0,FAST_SNAKE_SPEED:20,HUMAN_PLAYER_NUMBER:1,INIT_REDUX_ACTION:"@@redux/INIT",LARGE_SNAKE_SIZE:30,LEFT_HAND_UDLR_KEYS:[87,83,65,68],MAX_PLAYERS:8,MEDIUM_SNAKE_SIZE:20,MOVE_SEND_INTERVAL:20,NON_EXISTANT_XY:-1,ONE_SECOND:1001,PLAYER_0_SENTINEL:"_no_player_0_",RIGHT_HAND_UDLR_KEYS:[38,40,37,39],SECONDS_COUNT_DOWN:3,SLOW_SNAKE_SPEED:60,TEST_PLAYER_POSTFIX:"_",TILE_PIXEL_SIZE:10,TIME_OUT_SECONDS:3600,TINY_SNAKE_SIZE:5,WALL_INDEX_COLOR:9,WS_MESSAGE_DELIM:","}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e.WALL_HORIZONTAL="wall_horizontal",e.WALL_VERTICAL="wall_vertical",e.WALL_DIAGONAL="wall_diagonal"}(t.EWallTypes||(t.EWallTypes={}));!function(e){e[e.GAME_JOINING_1=0]="GAME_JOINING_1",e[e.GAME_PLAYING_2=1]="GAME_PLAYING_2"}(t.EGameStates||(t.EGameStates={}));!function(e){e[e.PLAYER_PERSON=0]="PLAYER_PERSON",e[e.PLAYER_MACHINE=1]="PLAYER_MACHINE"}(t.EPlayerStates||(t.EPlayerStates={}));!function(e){e[e.WAIT_JOIN_NAME_GAME_1=0]="WAIT_JOIN_NAME_GAME_1",e[e.WAIT_JOIN_GAME_2=1]="WAIT_JOIN_GAME_2",e[e.WAIT_JOIN_START_3=2]="WAIT_JOIN_START_3",e[e.WAIT_JOIN_PLAYING_4=3]="WAIT_JOIN_PLAYING_4"}(t.EJoinStates||(t.EJoinStates={}));!function(e){e[e.WAIT_COMPUTER_OPPONENTS_A=0]="WAIT_COMPUTER_OPPONENTS_A",e[e.WAIT_COMPUTER_START_B=1]="WAIT_COMPUTER_START_B",e[e.WAIT_COMPUTER_START_C=2]="WAIT_COMPUTER_START_C",e[e.WAIT_FOR_CHOICE=3]="WAIT_FOR_CHOICE",e[e.WAIT_HUMAN_NAMING_1=4]="WAIT_HUMAN_NAMING_1",e[e.WAIT_HUMAN_CREATION_2=5]="WAIT_HUMAN_CREATION_2",e[e.WAIT_HUMAN_START_3=6]="WAIT_HUMAN_START_3",e[e.WAIT_HUMAN_END_4=7]="WAIT_HUMAN_END_4"}(t.ECreateStates||(t.ECreateStates={}));!function(e){e.DOWN_MOVE="down",e.UP_MOVE="up",e.LEFT_MOVE="left",e.RIGHT_MOVE="right",e.CONTINUE_MOVE="continue"}(t.EMoveTypes||(t.EMoveTypes={}));!function(e){e.TO_SERVER_createGame="TO_SERVER_createGame",e.TO_SERVER_startPeople="TO_SERVER_startPeople",e.TO_SERVER_startMachine="TO_SERVER_startMachine",e.TO_SERVER_joinGame="TO_SERVER_joinGame",e.TO_SERVER_moveSnake="TO_SERVER_moveSnake",e.TO_SERVER_moveMachine="TO_SERVER_moveMachine",e.TO_SERVER_disconnectBrowser="TO_SERVER_disconnectBrowser",e.TO_SERVER_gameList="TO_SERVER_gameList",e.TO_BROWSER_missedStart="TO_BROWSER_missedStart",e.TO_BROWSER_gameList="TO_BROWSER_gameList",e.TO_BROWSER_timeout="TO_BROWSER_timeout",e.TO_BROWSER_startPeople="TO_BROWSER_startPeople",e.TO_BROWSER_2_to_tango="TO_BROWSER_2_to_tango",e.TO_BROWSER_9_players="TO_BROWSER_9_players",e.TO_BROWSER_advanceBoard="TO_BROWSER_advanceBoard",e.TO_BROWSER_crashTurn="TO_BROWSER_crashTurn",e.TO_BROWSER_announceWinner="TO_BROWSER_announceWinner",e.TO_BROWSER_announceTie="TO_BROWSER_announceTie",e.TO_BROWSER_announceNames="TO_BROWSER_announceNames",e.TO_BROWSER_your_color="TO_BROWSER_your_color",e.TO_BROWSER_all_moves="TO_BROWSER_all_moves"}(t.EActions||(t.EActions={}))},function(e,t,n){"use strict";(function(e){function o(t){if(e.argv[t]){return e.argv[t].split("=")}return["",""]}function r(e){if(void 0===e)return"";return e.replace(/[^\w ']/,"").trim()}Object.defineProperty(t,"__esModule",{value:!0});const _=n(3),a=n(0),i=n(1),{TINY_SNAKE_SIZE:s,MEDIUM_SNAKE_SIZE:l,LARGE_SNAKE_SIZE:u,SLOW_SNAKE_SPEED:c,AVERAGE_SNAKE_SPEED:d,FAST_SNAKE_SPEED:E}=a.default,{DOWN_MOVE:f,UP_MOVE:T,LEFT_MOVE:O,RIGHT_MOVE:m,CONTINUE_MOVE:S}=i.EMoveTypes;t.sendSocket=((e,t,n)=>{const o={data:n,message_type:t},r=JSON.stringify(o);try{e.send(r)}catch(t){console.error("sendSocket error",t.message,o,e)}}),t.dateInSeconds=function(){const e=Number(new Date);return Math.floor(e/1e3)},t.mouseListenerAdd=function(e,t,n){document.getElementById(e).addEventListener(t,n,!1)},t.eventListenerAdd=function(e,t,n){document.getElementById(e).addEventListener(t,n,!1)},t.hiddenById=function(e){for(const t of e)document.getElementById(t).style.visibility="hidden"},t.visibleById=function(e){for(const t of e)document.getElementById(t).style.visibility="visible"},t.displayInlineById=function(e){for(const t of e)document.getElementById(t).style.display="inline"},t.displayBlockById=function(e){for(const t of e)document.getElementById(t).style.display="block"},t.displayNoneById=function(e){for(const t of e)document.getElementById(t).style.display="none"},t.focusById=function(e){document.getElementById(e).focus()},t.getUrlParamByName=function(e){const t=RegExp("[?&]"+e+"=([^&]*)").exec(window.location.search);if(t){const e=decodeURIComponent(t[1].replace(/\+/g," "));if(""!==e)return e}return""},t.never_needTwoToTango=function(e){console.error("IMPOSSIBLE TESTING ONLY, we need two people to have a human game",e)},t.never_nineMakesACrowd=function(e){console.error("IMPOSSIBLE TESTING ONLY, we somehow have a nine-player game",e)},t.colorTextSpan=function(e,t){return" <span style='color: "+e+"'>"+t+"</span> "},t.upDownLeftRight=function(e,t,n){let o=S;return e===t[0]||e===n[0]?o=T:e===t[1]||e===n[1]?o=f:e===t[2]||e===n[2]?o=O:e!==t[3]&&e!==n[3]||(o=m),o},t.inputValueSet=function(e,t){document.getElementById(e).value=t},t.propertyValueSet=function(e,t,n){document.getElementById(e)[t]=n},t.styleValueSet=function(e,t,n){document.getElementById(e).style[t]=n},t.getArgByIndex=o,t.setUpTesting=function(){const[e,t]=o(2);if("testing"===e&&"true"===t)return _.default},t.decodeSnakeSize=function(e){let t=u;return"tiny"===e?t=s:"medium"===e&&(t=l),t},t.decodeSnakeSpeed=function(e){let t=E;return"slow"===e?t=c:"average"===e&&(t=d),t},t.decodeSnakeWalls=function(e){let t=!1;return"random"===e&&(t=!0),t},t.sanitizeValue=r,t.sanitizeInputValue=function(e){return r(document.getElementById(e).value)}}).call(t,n(6))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={TESTING_BOARD_COLOR:0,TESTING_BOARD_INDEX:2,TESTING_SECONDS_COUNT_DOWN:1,TESTING_TIME_OUT_SECONDS:30}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(7),r=n(3),_=n(0),a=n(2),i=n(1),s=n(9),l=n(10),{SECONDS_COUNT_DOWN:u,ONE_SECOND:c,LEFT_HAND_UDLR_KEYS:d,RIGHT_HAND_UDLR_KEYS:E}=_.default,{CONTINUE_MOVE:f}=i.EMoveTypes,{TO_BROWSER_startPeople:T,TO_BROWSER_all_moves:O,TO_SERVER_moveSnake:m,TO_BROWSER_announceWinner:S,TO_BROWSER_announceTie:y,TO_BROWSER_your_color:w,TO_BROWSER_crashTurn:R,TO_BROWSER_announceNames:A,TO_BROWSER_9_players:p,TO_BROWSER_gameList:g,TO_BROWSER_2_to_tango:I,TO_BROWSER_timeout:N,TO_BROWSER_missedStart:v}=i.EActions,h={live_colors:[],draw_board:{},show_players_data:[],showPlayers:e=>{if(!s.default.game_started){"object"==typeof window.GLOBAL_WEBPACK.create_game_entry&&window.GLOBAL_WEBPACK.create_game_entry.create_game.enableStartButton();let t,n="";for(let o=1;o<e.length;o++){if(void 0===h.live_colors[0])t=e[o];else{const n=h.live_colors[o],r=e[o];t=a.colorTextSpan(n,r)}n=n+"<div> Player # "+o+" - "+t+"</div>"}a.propertyValueSet("game-names","innerHTML",n)}},initializeGame:e=>{const t=o.BoardColors.colorSet(e.color_index),n=s.default.tile_size;l.DrawBoard.initializeDraw(n,t),h.draw_board=l.DrawBoard,h.live_colors=t,h.showPlayers(h.show_players_data),h.fixStartHtml(),s.default.game_started=!1,s.default.game_over=!1,s.default.browser_turn=0,e.config_testing_vars?s.default.seconds_count_down=r.default.TESTING_SECONDS_COUNT_DOWN:s.default.seconds_count_down=u,s.default.count_down=s.default.seconds_count_down,Array.isArray(e.test_moves)&&(s.default.test_moves=e.test_moves),h.enableKeys(),s.default.next_key_move=f,h.draw_board.drawCanvas(e),a.styleValueSet("board-container","display",""),a.propertyValueSet("game-results","innerHTML",""),h.countDownStart()},enableKeys:()=>{document.addEventListener("keydown",e=>{const t=e.keyCode,n=a.upDownLeftRight(t,d,E);s.default.next_key_move=n})},countDownStart:()=>{const e=h.live_colors[s.default.your_player_number],t=s.default.tile_size/2+"px solid "+e;a.styleValueSet("board-container","border",t),s.default.count_down_func_id=window.setInterval(h.showCountDown,c);const n=c*(s.default.seconds_count_down+1);setTimeout(h.startGame,n)},showCountDown:()=>{const e=document.getElementById("count-downer");s.default.count_down===s.default.seconds_count_down&&(e.classList.add("my-count"),h.playerColorElement("count-downer")),s.default.count_down<1?(e.innerHTML="",e.classList.remove("my-count"),window.clearTimeout(s.default.count_down_func_id)):e.innerHTML=s.default.count_down.toString(),s.default.count_down=s.default.count_down-1},startGame:()=>{s.default.game_started=!0,s.default.sample_keys_func_id=window.setInterval(h.sendMoveToServer,s.default.send_move_interval)},showAllMoves:e=>{s.default.browser_turn=s.default.browser_turn+1,"function"==typeof s.default.the_game_board.draw_board.drawMoves&&s.default.the_game_board.draw_board.drawMoves(e)},showWinner:e=>{h.readyForGame();const t=e[0],n=Number(t),o=e[1];let r;if(n===s.default.your_player_number){const e=h.live_colors[s.default.your_player_number];r=a.colorTextSpan(e,"You are the Winner!")}else{const e=h.live_colors[n],_=a.colorTextSpan(e,t);r="You lose. "+a.colorTextSpan(e,o)+"player # "+_+"is the winner."}a.propertyValueSet("game-results","innerHTML",r),h.fixEndHtml()},fixStartHtml:()=>{"object"==typeof window.GLOBAL_WEBPACK.create_game_entry?(window.GLOBAL_WEBPACK.create_game_entry.create_game.fixStartCreateHtml(),h.playerColorElement("create-color")):"object"==typeof window.GLOBAL_WEBPACK.join_game_entry&&(window.GLOBAL_WEBPACK.join_game_entry.join_game.fixStartJoinHtml(),h.playerColorElement("join-color"))},fixEndHtml:()=>{"object"==typeof window.GLOBAL_WEBPACK.create_game_entry?window.GLOBAL_WEBPACK.create_game_entry.create_game.fixEndCreateHtml():"object"==typeof window.GLOBAL_WEBPACK.join_game_entry&&window.GLOBAL_WEBPACK.join_game_entry.join_game.fixEndJoinHtml()},readyForGame:()=>{window.clearInterval(s.default.sample_keys_func_id),s.default.game_over=!0,s.default.game_started=!1,s.default.browser_turn=0},showTie:()=>{h.readyForGame(),a.propertyValueSet("game-results","innerHTML","we have a tie !"),h.fixEndHtml()},playerColorElement:e=>{const t=h.live_colors[s.default.your_player_number];a.styleValueSet(e,"color",t)},setPlayerNumber:e=>{s.default.your_player_number=e},moveToServer:e=>{if(!s.default.game_over)try{const t={browser_turn:s.default.browser_turn,message_type:m,move_direction:e,uuid_key:s.default.ws_random_key};h.sendMessage(t)}catch(e){console.error("err",e)}},sendMoveToServer:()=>{let e=s.default.next_key_move;if(s.default.test_moves.length>0){s.default.test_moves.length===s.default.browser_turn&&(s.default.test_moves=s.default.test_moves.concat(s.default.test_moves));const t=s.default.test_moves[s.default.browser_turn];s.default.next_key_move===f?e=t:(e=s.default.next_key_move,s.default.next_key_move=f)}h.moveToServer(e)},sendMessage:e=>{const t=JSON.stringify(e);"function"==typeof s.default.the_websocket.send&&s.default.the_websocket.send(t)}};s.default.the_websocket.onclose=(()=>{s.default.the_websocket.send=null}),s.default.the_websocket.onmessage=(e=>{const t=JSON.parse(e.data),n=t.message_type,o=t.data;n===T?h.initializeGame(o):n===O?h.showAllMoves(o):n===S?h.showWinner(o):n===y?h.showTie():n===w?h.setPlayerNumber(o):n===R?h.draw_board.drawCrashes(o):n===A?(h.show_players_data=o,h.showPlayers(o)):n===I?a.never_needTwoToTango(o):n===p?a.never_nineMakesACrowd(o):n===N?a.styleValueSet("timed-out","display","block"):n===g?"object"==typeof window.GLOBAL_WEBPACK.join_game_entry&&window.GLOBAL_WEBPACK.join_game_entry.join_game.showJoinGames(o):n===v?"object"==typeof window.GLOBAL_WEBPACK.join_game_entry&&window.GLOBAL_WEBPACK.join_game_entry.join_game.missedStart(o):console.error("ERROR game-objects :  unknown message = ",n)}),s.default.the_game_board=h,t.default=s.default},,function(e,t){function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function r(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function _(){f&&d&&(f=!1,d.length?E=d.concat(E):T=-1,E.length&&a())}function a(){if(!f){var e=r(_);f=!0;for(var t=E.length;t;){for(d=E,E=[];++T<t;)d&&d[T].run();T=-1,t=E.length}d=null,f=!1,function(e){if(u===clearTimeout)return clearTimeout(e);if((u===o||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(e);try{u(e)}catch(t){try{return u.call(null,e)}catch(t){return u.call(this,e)}}}(e)}}function i(e,t){this.fun=e,this.array=t}function s(){}var l,u,c=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{u="function"==typeof clearTimeout?clearTimeout:o}catch(e){u=o}}();var d,E=[],f=!1,T=-1;c.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];E.push(new i(e,t)),1!==E.length||f||r(a)},i.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=s,c.addListener=s,c.once=s,c.off=s,c.removeListener=s,c.removeAllListeners=s,c.emit=s,c.prependListener=s,c.prependOnceListener=s,c.listeners=function(e){return[]},c.binding=function(e){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(e){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const n=[["rgb(255, 255, 255)","rgb(255, 0, 0)","rgb(0, 255,0)","rgb(0, 0, 255)","rgb(0, 255, 255)","rgb(255, 0, 255)","rgb(255, 255, 0)","rgb(128, 128, 128)","rgb(128, 128, 0)","rgb(0, 0, 0)"],["rgb(0, 0, 0)","rgb(0,0,128)","rgb(0,128,128)","rgb(128,0,128)","rgb(0,128,0)","rgb(128,128,0)","rgb(128,0,0)","rgb(128,128,128)","rgb(192,192,192)","rgb(255, 255, 255)"]],o={randomColors:()=>{if(void 0===e.CONFIG_TESTING_VARS){return Math.floor(Math.random()*n.length)}return e.CONFIG_TESTING_VARS.TESTING_BOARD_COLOR},colorSet:e=>n[e]};t.BoardColors=o}).call(t,n(8))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(0),r=n(1),{SECONDS_COUNT_DOWN:_,MOVE_SEND_INTERVAL:a,TILE_PIXEL_SIZE:i}=o.default,{CONTINUE_MOVE:s}=r.EMoveTypes,l=window.SNAKE_WS_RANDOM_KEY,u={browser_turn:0,count_down:_,count_down_func_id:0,game_over:!1,game_started:!1,host_name:location.origin.replace(/^http/,"ws")+"/?"+l,machine_game_count:1,next_key_move:s,sample_keys_func_id:0,seconds_count_down:0,send_move_interval:a,test_moves:[],the_game_board:{},the_websocket:{},tile_size:i,ws_random_key:l,your_player_number:0};u.the_websocket=new WebSocket(u.host_name),t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(0),{WS_MESSAGE_DELIM:r,CTX_WALL_COLOR:_}=o.default,a=document.getElementById("board-container"),i=a.getContext("2d"),s={tile_size:123,live_colors:[],initializeDraw:(e,t)=>{s.tile_size=e,s.live_colors=t},drawCanvas:e=>{a.width=e.board_width*s.tile_size,a.height=e.board_height*s.tile_size,"function"==typeof s.drawGrid&&s.drawGrid(e.board_json)},drawSquares:(e,t,n,o)=>{const r=s.tile_size/2;let _=1;do{i.beginPath(),i.moveTo(e+_,t+_),i.lineTo(n-_,t+_),i.lineTo(n-_,o-_),i.lineTo(e+_,o-_),i.lineTo(e+_,t+_),i.stroke(),_+=2}while(_<r)},drawCrashes:e=>{s.drawMoves(e),i.strokeStyle=_;for(let t=e.length-1;t>=0;t--){const n=e[t].split(r),o=parseInt(n[0],10),_=parseInt(n[1],10),a=o*s.tile_size+1,i=_*s.tile_size+1,l=(o+1)*s.tile_size-1,u=(_+1)*s.tile_size-1;s.drawSquares(a,i,l,u)}},drawGrid:e=>{for(let t=e.length-1;t>=0;t--)for(let n=e[t].length-1;n>=0;n--){const o=e[t][n];s.drawTile(n,t,o)}},drawTile:(e,t,n)=>{i.fillStyle=s.live_colors[n];const o=e*s.tile_size,r=t*s.tile_size;i.fillRect(o,r,s.tile_size,s.tile_size)},drawMoves:e=>{for(let t=e.length-1;t>=0;t--){const n=e[t].split(r),o=parseInt(n[0],10),_=parseInt(n[1],10),a=parseInt(n[2],10);s.drawTile(o,_,a)}}};t.DrawBoard=s}]);